<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>AYGUN AVM Fiyat Portalı</title>

<style>
body {
    font-family: Arial, sans-serif;
    margin: 20px;
}

h1 {
    text-align: center;
}

#searchInput {
    width: 300px;
    padding: 8px;
    margin-bottom: 15px;
    font-size: 14px;
}

table {
    border-collapse: collapse;
    width: 100%;
    font-size: 13px;
}

th {
    background-color: #222;
    color: white;
    padding: 8px;
}

td {
    padding: 6px;
    border-bottom: 1px solid #ddd;
}

tr:hover {
    background-color: #f2f2f2;
}

.price {
    text-align: right;
}

.stok-0 {
    background-color: #ffe6e6;
    color: red;
    font-weight: bold;
}
</style>
</head>

<body>

<h1>AYGUN AVM Fiyat Listesi</h1>

<input type="text" id="searchInput" placeholder="Ürün kodu veya açıklama ara...">

<table id="urunTable">
<thead>
<tr>
<th>Kod</th>
<th>Ticari Kod</th>
<th>Stok</th>
<th>Diğer Kartlar</th>
<th>Taksitli</th>
<th>Tek Çekim</th>
<th>Nakit</th>
<th>Ürün Gamı</th>
<th>Açıklama</th>
</tr>
</thead>
<tbody></tbody>
</table>

<script>
fetch('data/urunler.json')
.then(res => res.json())
.then(data => {

    const tbody = document.querySelector('#urunTable tbody');

    data.forEach(item => {

        const row = document.createElement('tr');

        if(item.stok === "0"){
            row.classList.add("stok-0");
        }

        row.innerHTML = `
            <td>${item.kod || ''}</td>
            <td>${item.ticari_kod || ''}</td>
            <td>${item.stok || ''}</td>
            <td class="price">${item.diger_kartlar || ''}</td>
            <td class="price">${item.taksitli || ''}</td>
            <td class="price">${item.tek_cekim || ''}</td>
            <td class="price">${item.nakit || ''}</td>
            <td>${item.urun_gami || ''}</td>
            <td>${item.aciklama || ''}</td>
        `;

        tbody.appendChild(row);
    });

    // ARAMA
    document.getElementById("searchInput").addEventListener("keyup", function() {
        const value = this.value.toLowerCase();
        const rows = tbody.getElementsByTagName("tr");

        for(let i = 0; i < rows.length; i++){
            const text = rows[i].innerText.toLowerCase();
            rows[i].style.display = text.includes(value) ? "" : "none";
        }
    });

})
.catch(err => console.error("JSON yüklenemedi:", err));
</script>

</body>
</html>